{% extends "master.html.twig" %}

{% block title %}Register user{% endblock %}
{% block head %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>   
    $(document).ready(function() {
        $('input[name=email]').keyup(function() {
            $('#result').load('/emailexists/' + $(this).val());           
            });
        });
        </script>
    {% endblock %}

{% block content %}
     
<h1>Registration page</h1>

{% if errorList %}
    <ul>
    {% for error in errorList %}
        <li>{{ error }}</li>
    {% endfor %}
    </ul>
{% endif %}

<form method="post">
    Name: <input type="text" name="name" value="{{v.name}}"><br><br>
    Email: <input type="text" name="email" value="{{v.email}}">
    <span id="result"></span><br><br>
    Password: <input type="password" name="pass1"><br><br>
    Password (repeated) <input type="password" name="pass2"><br><br>
    <input type="submit" value="Register">
</form>

{% endblock %}
    